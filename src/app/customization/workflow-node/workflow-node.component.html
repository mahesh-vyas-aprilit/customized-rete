<div
  *ngIf="!data.isEndNode"
  data-testid="icon"
  class="min-w-[54px] max-w-[54px] h-[52px] relative grid place-items-center"
>
  <span
    class="ki-outline ki-{{ data.icon }} text-{{
      data.bgColor
    }} text-[27px] leading-none"
  ></span>
</div>

<span
  *ngIf="data.isEndNode"
  data-testid="icon"
  class="ki-outline ki-{{ data.icon }} text-{{
    data.bgColor
  }} text-[27px] leading-none"
></span>

<div
  class="absolute inset-0 bg-{{
    data.bgColor
  }} rounded-[9px] -z-[1] bg-opacity-10 border border-{{ data.bgColor }}  {{
    data.bgColor !== 'green' ? 'border-opacity-20' : ''
  }}"
></div>

<!-- <div
  *ngIf="data.label === 'Add'"
  class="min-w-14 max-w-14 h-[104px] rounded-l-lg relative grid place-items-center"
  style="background: orange"
>
  <span class="ki-outline ki-book text-white text-4xl"></span>
</div>
<ng-container *ngIf="data.label !== 'Add'">
  <div
    class="min-w-14 max-w-14 h-[104px] rounded-l-lg relative grid place-items-center"
    style="background: #008f75"
  >
    <span class="ki-outline ki-happy-emoji text-white text-4xl"></span>
  </div>
</ng-container> -->

<!-- Inputs -->
<div class="inputs">
  <div
    class="input"
    *ngFor="let input of data.inputs | keyvalue : sortByIndex"
    [attr.data-testid]="'input-' + input.key"
  >
    <div
      class="input-socket"
      refComponent
      [data]="{
        type: 'socket',
        side: 'input',
        key: input.key,
        nodeId: data.id,
        payload: input.value?.socket,
        seed: seed
      }"
      [emit]="emit"
      data-testid="input-socket"
    ></div>
  </div>
</div>

<div class="text-sm font-semibold">
  <!-- Title -->
  <div class="text-[#16203E] mb-[3px]" data-testid="title">
    {{ data.label }}
  </div>

  <p class="text-[#8A99B0]" *ngIf="!data.isEndNode">Overtime request from</p>
</div>

<!-- Controls -->
<!-- <div
  class="control"
  *ngFor="let control of data.controls | keyvalue : sortByIndex"
  refComponent
  [data]="{ type: 'control', payload: control.value }"
  [emit]="emit"
  [attr.data-testid]="'control-' + control.key"
></div> -->

<!-- Output -->
<div class="outputs">
  <div
    class="output"
    *ngFor="let output of data.outputs | keyvalue : sortByIndex"
    [attr.data-testid]="'output-' + output.key"
  >
    <div
      class="output-socket"
      refComponent
      [data]="{
        type: 'socket',
        side: 'output',
        key: output.key,
        nodeId: data.id,
        payload: output.value?.socket,
        seed: seed
      }"
      [emit]="emit"
      data-testid="output-socket"
    ></div>
  </div>
</div>
